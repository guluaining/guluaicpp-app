# GuluCoding V2.0 研发执行计划

**文档ID:** GC-DEV-2025-01  
**版本:** 1.0  
**密级:** 内部 / 研发团队专用  
**制定者:** CTO & PMO  
**日期:** 2025年12月4日

---

## 1. 总览与目标 (Overview & Goal)

**致全体研发团队：**

我们正处在一个激动人心的转折点。MVP 的成功验证了我们的产品方向，现在，我们需要从“游击队”升级为“正规军”，将 GuluCoding 从一个优秀的产品原型，打造为一个世界级的、可扩展的、能创造商业价值的教育平台。

本文档是我们接下来 **12 周** 的核心作战地图。它详细规划了从当前架构向 V2.0（内容工厂模式）迁移的每一个步骤。这个计划的核心思想是**“边开枪、边换炮”**——通过“绞杀榕”模式，我们将在不影响线上用户的前提下，逐步、安全地完成整个系统的升级。

**我们的总目标是：** 在 12 周内，完成从 MVP 到可商业化 V2.0 平台的全面转型，实现内容生产与软件工程的彻底解耦。

请每位成员仔细阅读，理解自己所在阶段的任务和交付标准。这将是一场硬仗，但也是一次我们共同构建未来的宝贵机会。

## 2. 分阶段执行计划 (Phased Execution Plan)

### **第一阶段：地基与基础 (Phase 1: Foundation & Infrastructure)**
*   **周期:** 2 周 (Week 1-2)
*   **负责人:** [前端负责人]
*   **目标:** 搭建 V2.0 项目的骨架，并将现有 MVP 应用无缝迁移进来，作为后续开发的“安全区”。

| 任务清单 (Task List) | 责任人 | 验收标准 (Acceptance Criteria) |
| :--- | :--- | :--- |
| 1. 初始化 Next.js + Turborepo 项目 | 前端负责人 | 新的 Monorepo 仓库创建成功 |
| 2. 将 MVP 组件迁移至 `/legacy` 目录 | 前端工程师 | 旧版 MVP 在 `/legacy` 路由下功能完全正常 |
| 3. 配置 Supabase 项目并定义数据表 | 后端负责人 | `levels`, `user_progress`, `user_profiles` 表结构创建完毕 |
| 4. 部署至 Vercel (国际) & 阿里云 (中国) | DevOps | 预览环境部署成功，可公开访问 |

---

### **第二阶段：水电煤接通 (Phase 2: Authentication & Data Persistence)**
*   **周期:** 2 周 (Week 3-4)
*   **负责人:** [全栈工程师]
*   **目标:** 让用户“有身份”，让数据“能沉淀”。这是商业化的基础。

| 任务清单 (Task List) | 责任人 | 验收标准 (Acceptance Criteria) |
| :--- | :--- | :--- |
| 1. 集成 Supabase Auth (国际版) | 全栈工程师 | 用户可通过邮箱/Google 注册和登录 |
| 2. 开发用户注册/登录/登出 UI | 前端工程师 | 登录流程顺畅，UI/UX 符合设计稿 |
| 3. 创建 `user_progress` 读写 API | 后端工程师 | 调用 API 可成功保存和读取用户学习进度 |
| 4. 前端对接进度保存 API | 前端工程师 | 用户完成关卡后，刷新页面进度不丢失 |

---

### **第三阶段：发动机制造 (Phase 3: The Universal Game Engine)**
*   **周期:** 3 周 (Week 5-7)
*   **负责人:** [核心算法/引擎工程师]
*   **目标:** 打造 V2.0 的核心——通用游戏引擎。这是实现“产研解耦”的关键。

| 任务清单 (Task List) | 责任人 | 验收标准 (Acceptance Criteria) |
| :--- | :--- | :--- |
| 1. 开发 `GameEngine.tsx` 核心状态机 | 引擎工程师 | 引擎能正确读取 JSON，并管理 `currentStep` |
| 2. 为 `ASSIGNMENT` 课程编写 `level.json` | 内容/教研 | JSON 文件符合 Schema 定义 |
| 3. 开发通用渲染器 `RenderLayer.tsx` | 前端/UI工程师 | 引擎能根据 JSON 动态渲染出 `VariableBox` 等元素 |
| 4. 构建沙盒页面 `/lab/engine` | 引擎工程师 | 在沙盒页面中，`ASSIGNMENT` 课程完全由 JSON 驱动并可正常游玩 |

---

### **第四阶段：生产线调试 (Phase 4: Content Migration & Tooling)**
*   **周期:** 3 周 (Week 8-10)
*   **负责人:** [前端负责人, 教研负责人]
*   **目标:** 将所有存量课程迁移至新引擎，并赋能内容团队独立生产。

| 任务清单 (Task List) | 责任人 | 验收标准 (Acceptance Criteria) |
| :--- | :--- | :--- |
| 1. 将 `SWAP`, `FIND_MAX`, `SORT` 转换为 JSON | 内容/教研 | 所有 MVP 课程均有对应的 `level.json` 文件 |
| 2. 在沙盒中验证所有新版课程 | QA/测试 | 新引擎下的课程表现与旧版 MVP 完全一致 |
| 3. 开发简易版“课程编辑器” (Web Tool) | 全栈工程师 | 内容团队可在 Web 界面上编辑和实时预览 JSON |
| 4. 培训内容团队使用新工作流 | 教研负责人 | 内容团队能独立完成一个新课程的创建和测试 |

---

### **第五阶段：全面投产与商业化 (Phase 5: Full Integration & Launch)**
*   **周期:** 2 周 (Week 11-12)
*   **负责人:** [CTO, PM]
*   **目标:** 全面切换到 V2.0 架构，上线商业化功能，正式推向市场。

| 任务清单 (Task List) | 责任人 | 验收标准 (Acceptance Criteria) |
| :--- | :--- | :--- |
| 1. 全站流量切换至新引擎 | 前端/DevOps | 旧的 `/legacy` 路由下线，所有用户默认使用新引擎 |
| 2. 实现 AI 后端代理 | 后端工程师 | AI 调用从后端发起，前端代码中无 API Key |
| 3. 集成 Stripe (国际) / 微信支付 (中国) | 全栈工程师 | 用户可以成功购买 Pro 订阅 |
| 4. 上线订阅管理和 Pro 功能解锁 | 全栈工程师 | 付费用户可解锁高级功能或课程 |
| 5. 配置 Sentry 错误监控 | DevOps | 线上 JS 错误和性能问题可被实时监控 |

## 3. 协同与沟通 (Collaboration & Communication)

*   **每日站会 (Daily Standup):** 各负责人同步进度、暴露风险。
*   **每周复盘 (Weekly Review):** 每周五下午，演示本周成果，对齐下周计划。
*   **文档先行:** 所有重大的技术决策或变更，必须先有简要的设计文档。
*   **工具:** 我们使用 GitHub Projects 进行任务跟踪，Slack 进行日常沟通。

---
**结语:**

这个计划是清晰且富有挑战的。它要求我们每个人都保持高度的专业精神和紧密的团队协作。让我们一起，将 GuluCoding 推向新的高度！
